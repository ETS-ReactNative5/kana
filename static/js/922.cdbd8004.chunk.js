"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[922],{552:function(n,e,t){t(3515),t(519),t(8538)},8840:function(n,e,t){t(3515),t(519),t(1620)},8333:function(n,e,t){t(3515),t(519)},6301:function(n,e,t){t(3515),t(519),t(4894)},9586:function(n,e,t){t(3515),t(519),t(8333)},1620:function(n,e,t){t.d(e,{DV:function(){return o},Tz:function(){return l},wf:function(){return c}});var r=t(5671),i=t(3144),u=t(519),a=t(3515),s=t(4894),o=(t(8538),function(){function n(e){(0,r.Z)(this,n),this.index=e}return(0,i.Z)(n,[{key:"numberOfCells",value:function(){return this.index.num_obs()}},{key:"free",value:function(){null!==this.index&&(this.index.delete(),this.index=null)}}]),n}());var l=function(){function n(e){(0,r.Z)(this,n),this.results=e}return(0,i.Z)(n,[{key:"size",value:function(){return this.results.size()}},{key:"numberOfCells",value:function(){return this.results.num_obs()}},{key:"serialize",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.runs,t=void 0===e?null:e,r=n.indices,i=void 0===r?null:r,a=n.distances,o=void 0===a?null:a,l=(null===t)+(null===i)+(null===o);if(3!=l&&0!=l)throw"either all or none of 'runs', 'indices' and 'distances' can be 'null'";if(3===l){var c,f,d,h;try{c=new s.do(this.numberOfCells());var m=this.size();f=new s.do(m),d=new s.lt(m),this.results.serialize(c.offset,f.offset,d.offset),h={runs:c.slice(),indices:f.slice(),distances:d.slice()}}finally{u.gd(c),u.gd(f),u.gd(d)}return h}this.results.serialize(t.offset,i.offset,o.offset)}},{key:"free",value:function(){null!==this.results&&(this.results.delete(),this.results=null)}}],[{key:"unserialize",value:function(e,t,r){var i,s,o,l,c;try{o=u.de(e,"Int32WasmArray"),l=u.de(t,"Int32WasmArray"),c=u.de(r,"Float64WasmArray"),s=new n(i=a.RE((function(n){return new n.NeighborResults(e.length,o.offset,l.offset,c.offset)})))}catch(f){throw u.gd(i),f}finally{u.gd(o),u.gd(l),u.gd(c)}return s}}]),n}();function c(n,e){var t,r;try{t=a.RE((function(t){return t.find_nearest_neighbors(n.index,e)})),r=new l(t)}catch(i){throw u.gd(t),i}return r}},1305:function(n,e,t){t(519),t(3515)},3068:function(n,e,t){t(3515),t(519),t(4894)},944:function(n,e,t){t(3515),t(519)},4657:function(n,e,t){t(3515),t(519)},8538:function(n,e,t){t(3515),t(519)},5767:function(n,e,t){t(3515),t(519)},519:function(n,e,t){t.d(e,{de:function(){return i},gd:function(){return u},ab:function(){return a}});var r=t(4894);t(3515);function i(n,e){if(n instanceof r.PQ){if(null!==e&&e!=n.constructor.className)throw"expected '"+e+"', got '"+n.constructor.className+"'";return n.owner?new n.constructor(n.length,n.offset):n}null===e&&(e=ArrayBuffer.isView(n)?n.constructor.name.replace("Array","WasmArray"):"Float64WasmArray");var t=null;try{switch(e){case"Uint8WasmArray":t=new r.yh(n.length);break;case"Int8WasmArray":t=new r.Fp(n.length);break;case"Uint16WasmArray":t=new r.oB(n.length);break;case"Int16WasmArray":t=new r.e7(n.length);break;case"Uint32WasmArray":t=new r.Jb(n.length);break;case"Int32WasmArray":t=new r.do(n.length);break;case"Float32WasmArray":t=new r.P$(n.length);break;case"BigInt64WasmArray":case"BigUint64WasmArray":case"Float64WasmArray":t=new r.lt(n.length);break;default:throw"unknown expected type '"+e+"'"}if(ArrayBuffer.isView(n)&&(n.constructor.name.startsWith("BigInt")||n.constructor.name.startsWith("BigUint"))){var i=t.array();n.forEach((function(n,e){i[e]=Number(n)}))}else t.set(n)}catch(u){throw null!==t&&t.free(),u}return t}function u(n){null!==n&&void 0!==n&&("free"in n?n.free():"delete"in n&&n.delete())}function a(n,e){for(var t=new Float64Array(n),r=new Float64Array(n),i=0;i<n;i++)t[i]=e[2*i],r[i]=e[2*i+1];return{x:t,y:r}}},3515:function(n,e,t){t.d(e,{j2:function(){return s},RE:function(){return l},f3:function(){return c}});var r=t(5861),i=t(7757),u=t(3587),a={};function s(){return o.apply(this,arguments)}function o(){return o=(0,r.Z)(i.mark((function n(){var e,t,r,s,o,l,c=arguments;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},t=e.numberOfThreads,r=void 0===t?4:t,s=e.localFile,o=void 0!==s&&s,!("module"in a)){n.next=3;break}return n.abrupt("return",!1);case 3:return l={scran_custom_nthreads:r},o&&(l.locateFile=function(n){return"file:///home/runner/work/kana/kana/node_modules/scran.js/module/wasm.js".substring(7)+"/../wasm/"+n}),n.next=7,(0,u.default)(l);case 7:return a.module=n.sent,n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)}))),o.apply(this,arguments)}function l(n){if(!("module"in a))throw"Wasm module needs to be initialized via 'initialize()'";var e;try{e=n(a.module)}catch(t){throw t instanceof Number?a.module.get_error_message(t):t}return e}function c(){if(!("module"in a))throw"Wasm module needs to be initialized via 'initialize()'";return a.module.wasmMemory.buffer}}}]);
//# sourceMappingURL=922.cdbd8004.chunk.js.map