!function(){"use strict";var t={3370:function(t,n,e){var r,i=e(9451),o=e(8148),a=e(1139),u=e(7851),s={},f=!1,c={},l={};function d(t,n){s.init.numberOfCells();var e=a.Z(t),r=s.init.clone();try{for(;r.iterations()<n;)if(i.DG(r,{runTime:e,maxIterations:n}),t){var o=r.extractCoordinates();u.b({type:"tsne_iter",x:o.x,y:o.y,iteration:r.iterations()},[o.x.buffer,o.y.buffer])}s.final=r.extractCoordinates()}finally{r.free()}}u.j((function(t){var n=t.data.id;"INIT"==t.data.cmd?(r=i.j2(t.data.scranOptions)).then((function(t){u.b({id:n,type:"init_worker",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RUN"==t.data.cmd?r.then((function(e){var r;"neighbors"in t.data?(o.Yl(s.neighbors),s.neighbors=a.q(t.data.neighbors),r=!0):r=!1;var h={perplexity:t.data.params.perplexity};r||o.xi(h,c)?(o.Yl(s.init),s.init=i.xv(s.neighbors,{perplexity:h.perplexity}),c=h,f=!0):f=!1;var p={iterations:t.data.params.iterations};(f||o.xi(p,l))&&(d(t.data.params.animate,p.iterations),l=p),u.b({id:n,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RERUN"==t.data.cmd?r.then((function(t){d(!0,l.iterations),u.b({id:n,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"FETCH"==t.data.cmd&&r.then((function(t){var e={x:s.final.x.slice(),y:s.final.y.slice(),iterations:l.iterations},r=[e.x.buffer,e.y.buffer];u.b({id:n,type:"tsne_fetch",data:e},r)})).catch((function(t){u.b({id:n,type:"error",error:t})}))}))},9451:function(t,n,e){e.d(n,{j2:function(){return r.j2},Wf:function(){return i.Wf},RJ:function(){return i.RJ},Tz:function(){return o.Tz},xv:function(){return a.xv},DG:function(){return a.DG}});var r=e(3515),i=e(519),o=(e(9288),e(1305),e(1402),e(3754),e(1742),e(6301),e(8333),e(9586),e(944),e(4657),e(5026),e(8538),e(1620)),a=(e(8840),e(9542));e(7217),e(552),e(7085),e(5767),e(5325)},9542:function(t,n,e){e.d(n,{xv:function(){return c},DG:function(){return l}});var r=e(5671),i=e(3144),o=e(519),a=e(3515),u=e(1620),s=function(){function t(n,e){(0,r.Z)(this,t),this.status=n,this.coordinates=e}return(0,i.Z)(t,[{key:"clone",value:function(){return new t(this.status.deepcopy(),this.coordinates.clone())}},{key:"numberOfCells",value:function(){return this.status.num_obs()}},{key:"iterations",value:function(){return this.status.iterations()}},{key:"extractCoordinates",value:function(){return o.ab(this.numberOfCells(),this.coordinates.array())}},{key:"free",value:function(){null!==this.status&&(this.status.delete(),this.status=null),null!==this.coordinates&&(this.coordinates.free(),this.coordinates=null)}}]),t}();function f(t){return a.RE((function(n){return n.perplexity_to_k(t)}))}function c(t){var n,e,r,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.perplexity,d=void 0===l?30:l,h=c.checkMismatch,p=void 0===h||h;try{var v;if(t instanceof u.DV){var y=f(d);n=(0,u.wf)(t,y),v=n}else{if(p){var b=f(d);if(b*t.numberOfCells()!=t.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'")}v=t}e=a.RE((function(t){return t.initialize_tsne(v.results,d)})),r=o.RJ(2*v.numberOfCells()),a.RE((function(t){return t.randomize_tsne_start(v.numberOfCells(),r.offset,42)})),i=new s(e,r)}catch(x){throw o.gd(e),o.gd(r),x}finally{o.gd(n)}return i}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.maxIterations,r=void 0===e?1e3:e,i=n.runTime,o=void 0===i?null:i;null===o&&(o=-1),a.RE((function(n){return n.run_tsne(t.status,o,r,t.coordinates.offset)}))}},7217:function(t,n,e){e(519),e(3515),e(1620)}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}e.m=t,e.x=function(){var t=e.O(void 0,[968,386],(function(){return e(3370)}));return t=e.O(t)},function(){var t=[];e.O=function(n,r,i,o){if(!r){var a=1/0;for(c=0;c<t.length;c++){r=t[c][0],i=t[c][1],o=t[c][2];for(var u=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(e.O).every((function(t){return e.O[t](r[s])}))?r.splice(s--,1):(u=!1,o<a&&(a=o));if(u){t.splice(c--,1);var f=i();void 0!==f&&(n=f)}}return n}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,i,o]}}(),e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,r){return e.f[r](t,n),n}),[]))},e.u=function(t){return"static/js/"+t+"."+{386:"e593c65d",495:"d1d86afb",968:"48d3ea68"}[t]+".chunk.js"},e.miniCssF=function(t){},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/kana/",function(){e.b=self.location+"/../../../";var t={370:1};e.f.i=function(n,r){t[n]||importScripts(e.p+e.u(n))};var n=self.webpackChunkkana=self.webpackChunkkana||[],r=n.push.bind(n);n.push=function(n){var i=n[0],o=n[1],a=n[2];for(var u in o)e.o(o,u)&&(e.m[u]=o[u]);for(a&&a(e);i.length;)t[i.pop()]=1;r(n)}}(),function(){var t=e.x;e.x=function(){return Promise.all([e.e(968),e.e(386)]).then(t)}}();e.x()}();
//# sourceMappingURL=370.3494527f.chunk.js.map