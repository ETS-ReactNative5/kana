"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[616],{9390:function(n,t,e){e(519)},1742:function(n,t,e){e(519),e(3515),e(9390)},552:function(n,t,e){e(3515),e(519),e(8538)},8840:function(n,t,e){e(3515),e(519),e(1620)},8333:function(n,t,e){e(3515),e(519)},6301:function(n,t,e){e(3515),e(519),e(6737)},3754:function(n,t,e){e(1402)},9586:function(n,t,e){e(3515),e(519),e(8333)},1620:function(n,t,e){e.d(t,{DV:function(){return s},Tz:function(){return o},wf:function(){return f}});var r=e(5671),i=e(3144),u=e(519),a=e(3515),s=(e(8538),function(){function n(t){(0,r.Z)(this,n),this.index=t}return(0,i.Z)(n,[{key:"numberOfCells",value:function(){return this.index.num_obs()}},{key:"free",value:function(){null!==this.index&&(this.index.delete(),this.index=null)}}]),n}());var o=function(){function n(t){(0,r.Z)(this,n),this.results=t}return(0,i.Z)(n,[{key:"size",value:function(){return this.results.size()}},{key:"numberOfCells",value:function(){return this.results.num_obs()}},{key:"serialize",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.runs,e=void 0===t?null:t,r=n.indices,i=void 0===r?null:r,a=n.distances,s=void 0===a?null:a,o=(null===e)+(null===i)+(null===s);if(3!=o&&0!=o)throw new Error("either all or none of 'runs', 'indices' and 'distances' can be 'null'");if(3===o){var f,l,c,h;try{f=u.Wf(this.numberOfCells());var y=this.size();l=u.Wf(y),c=u.RJ(y),this.results.serialize(f.offset,l.offset,c.offset),h={runs:f.slice(),indices:l.slice(),distances:c.slice()}}finally{u.gd(f),u.gd(l),u.gd(c)}return h}this.results.serialize(e.offset,i.offset,s.offset)}},{key:"free",value:function(){null!==this.results&&(this.results.delete(),this.results=null)}}],[{key:"unserialize",value:function(t,e,r){var i,s,o,f,l;try{o=u.de(t,"Int32WasmArray"),f=u.de(e,"Int32WasmArray"),l=u.de(r,"Float64WasmArray"),s=new n(i=a.RE((function(n){return new n.NeighborResults(t.length,o.offset,f.offset,l.offset)})))}catch(c){throw u.gd(i),c}finally{u.gd(o),u.gd(f),u.gd(l)}return s}}]),n}();function f(n,t){var e,r;try{e=a.RE((function(e){return e.find_nearest_neighbors(n.index,t)})),r=new o(e)}catch(i){throw u.gd(e),i}return r}},1305:function(n,t,e){e(519),e(3515)},9288:function(n,t,e){e(3515),e(519),e(9390)},5325:function(n,t,e){e(3515),e(519),e(9390),e(6737)},944:function(n,t,e){e(3515),e(519)},7085:function(n,t,e){e(519),e(8538),e(3515)},4657:function(n,t,e){e(3515),e(519)},1402:function(n,t,e){e(9390)},8538:function(n,t,e){e(3515),e(519)},5767:function(n,t,e){e(3515),e(519)},519:function(n,t,e){e.d(t,{Wf:function(){return u},RJ:function(){return a},de:function(){return s},gd:function(){return o},ab:function(){return f}});var r=e(3515),i=e(6737);function u(n){return i.Wf((0,r.Fx)(),n)}function a(n){return i.RJ((0,r.Fx)(),n)}function s(n,t){if(n instanceof i.PQ){if(null!==t&&t!=n.constructor.className)throw new Error("expected '"+t+"', got '"+n.constructor.className+"'");return n.space===(0,r.Fx)()?null===n.owner?n.view():n:n.clone((0,r.Fx)())}return null!==t?i.Zv((0,r.Fx)(),n,i.rr(t)):i.Zv((0,r.Fx)(),n)}function o(n){null!==n&&void 0!==n&&("free"in n?n.free():"delete"in n&&n.delete())}function f(n,t){for(var e=new Float64Array(n),r=new Float64Array(n),i=0;i<n;i++)e[i]=t[2*i],r[i]=t[2*i+1];return{x:e,y:r}}},3515:function(n,t,e){e.d(t,{j2:function(){return o},RE:function(){return l},Fx:function(){return c}});var r=e(5861),i=e(7757),u=e(3587),a=e(6737),s={};function o(){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(i.mark((function n(){var t,e,r,o,f,l,c=arguments;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},e=t.numberOfThreads,r=void 0===e?4:e,o=t.localFile,f=void 0!==o&&o,!("module"in s)){n.next=3;break}return n.abrupt("return",!1);case 3:return l={scran_custom_nthreads:r},f&&(l.locateFile=function(n){return"file:///home/runner/work/kana/kana/node_modules/scran.js/module/wasm.js".substring(7)+"/../wasm/"+n}),n.next=7,(0,u.default)(l);case 7:return s.module=n.sent,s.space=(0,a.z2)(s.module),n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function l(n){if(!("module"in s))throw new Error("Wasm module needs to be initialized via 'initialize()'");var t;try{t=n(s.module)}catch(e){throw"number"==typeof e?new Error(s.module.get_error_message(e)):e}return t}function c(){return s.space}},2905:function(n,t,e){e.d(t,{P:function(){return v}});var r=e(5671),i=e(3144),u=e(2346),a=e(6033),s=e(3092),o=e(2813),f=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,y=new WeakMap,v=function(){function n(t,e,i,a,o){(0,r.Z)(this,n),(0,u.Z)(this,f,{writable:!0,value:void 0}),(0,u.Z)(this,l,{writable:!0,value:void 0}),(0,u.Z)(this,c,{writable:!0,value:void 0}),(0,u.Z)(this,h,{writable:!0,value:void 0}),(0,u.Z)(this,y,{writable:!0,value:void 0}),(0,s.Z)(this,f,t),(0,s.Z)(this,l,e),(0,s.Z)(this,c,i),(0,s.Z)(this,h,a),(0,s.Z)(this,y,o)}return(0,i.Z)(n,[{key:"space",get:function(){return(0,a.Z)(this,f)}},{key:"id",get:function(){return(0,a.Z)(this,l)}},{key:"offset",get:function(){return(0,a.Z)(this,h)}},{key:"length",get:function(){return(0,a.Z)(this,c)}},{key:"owner",get:function(){return(0,a.Z)(this,y)}},{key:"fill",value:function(n,t,e){"undefined"===typeof t?this.array().fill(n):"undefined"===typeof e?this.array().fill(n,t):this.array().fill(n,t,e)}},{key:"set",value:function(n,t){"undefined"===typeof t?this.array().set(n):this.array().set(n,t)}},{key:"slice",value:function(n,t){return"undefined"===typeof n?this.array().slice():"undefined"===typeof t?this.array().slice(n):this.array().slice(n,t)}},{key:"clone",value:function(n){"undefined"===typeof n&&(n=(0,a.Z)(this,f));var t=(0,o.TK)(n,(0,a.Z)(this,c),this.constructor);return t.set(this.array()),t}},{key:"view",value:function(n,t){"undefined"===typeof n&&(n=0),"undefined"===typeof t&&(t=(0,a.Z)(this,c));var e=t-n,r=(0,a.Z)(this,y);null===r&&(r=this);var i=n*this.constructor.valueSize;return new this.constructor((0,a.Z)(this,f),-1,e,(0,a.Z)(this,h)+i,r)}},{key:"free",value:function(){null===(0,a.Z)(this,y)&&null!==(0,a.Z)(this,h)&&((0,o.Ar)((0,a.Z)(this,f),(0,a.Z)(this,l)),(0,s.Z)(this,h,null))}}]),n}()},8383:function(n,t,e){e.d(t,{do:function(){return Z},lt:function(){return w},rr:function(){return g}});var r=e(5671),i=e(3144),u=e(136),a=e(9388),s=e(4942),o=e(2813),f=e(2905),l=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Uint8Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(l,"className","Uint8WasmArray"),(0,s.Z)(l,"valueSize",1);var c=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Int8Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(c,"className","Int8WasmArray"),(0,s.Z)(c,"valueSize",1);var h=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Uint16Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(h,"className","Uint16WasmArray"),(0,s.Z)(h,"valueSize",2);var y=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Int16Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(y,"className","Int16WasmArray"),(0,s.Z)(y,"valueSize",2);var v=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Uint32Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(v,"className","Uint32WasmArray"),(0,s.Z)(v,"valueSize",4);var Z=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Int32Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(Z,"className","Int32WasmArray"),(0,s.Z)(Z,"valueSize",4);var d=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new BigUint64Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(d,"className","BigUint64WasmArray"),(0,s.Z)(d,"valueSize",8);var p=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new BigInt64Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(p,"className","BigInt64WasmArray"),(0,s.Z)(p,"valueSize",8);var m=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Float32Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(m,"className","Float32WasmArray"),(0,s.Z)(m,"valueSize",4);var w=function(n){(0,u.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"array",value:function(){return new Float64Array((0,o.f3)(this.space),this.offset,this.length)}}]),e}(f.P);(0,s.Z)(w,"className","Float64WasmArray"),(0,s.Z)(w,"valueSize",8);var k={Uint8WasmArray:l,Int8WasmArray:c,Uint16WasmArray:h,Int16WasmArray:y,Uint32WasmArray:v,Int32WasmArray:Z,BigUint64WasmArray:d,BigInt64WasmArray:p,Float32WasmArray:m,Float64WasmArray:w};function g(n){if(!(n in k))throw"unknown WasmArray class '"+n+"'";return k[n]}},6737:function(n,t,e){e.d(t,{PQ:function(){return r.P},Zv:function(){return f.Zv},RJ:function(){return o},Wf:function(){return s},z2:function(){return u.z2},rr:function(){return i.rr}});var r=e(2905),i=e(8383),u=e(2813);function a(n,t,e){return(0,u.TK)(n,t,e)}function s(n,t){return a(n,t,i.do)}function o(n,t){return a(n,t,i.lt)}var f=e(4163)}}]);
//# sourceMappingURL=616.6d86e35d.chunk.js.map